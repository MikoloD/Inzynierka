@model Inzynierka.Models.MapModel
<div class="row mx-1" style="overflow: hidden">
    <div class="col-sm">
        <div id="map" style="width: 100%; height: calc(100vh - 70px); position: relative;"></div>
    </div>
    <div class="col-2"></div>
</div>
<script>
    var lat = [];
    var lon = [];
    var desc = [];

    var latlngs = [];

    @foreach (var item in Model.Cities)
    {
        @:lat.push("@item.Latitude");
        @:lon.push("@item.Longitude");
        @:desc.push("@item.Name");
    }
    var map = L.map('map').setView([51.9594452,19.4572163], 7);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);
    for (var i = 0; i < lat.length; i++) {
        L.marker([lat[i], lon[i]]).addTo(map)
            .bindPopup(desc[i])
            .openPopup();
    }
    var control = L.Routing.control({
        waypoints: [
            L.latLng(lat[1], lon[1]),
            L.latLng(lat[2], lon[2])
        ],
        lineOptions: { styles: [{ color: '#242c81', weight: 2 }] },
        fitSelectedRoutes: true,
        draggableWaypoints: false,
        routeWhileDragging: false,
        createMarker: function () { return null; },
        lineOptions: {
        addWaypoints: false
        }
    }).addTo(map);

    //zamknij panel boczny
    //control.hide();

    map.removeControl(control);
</script>